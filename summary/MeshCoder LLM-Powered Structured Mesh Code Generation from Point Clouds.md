# MeshCoder: LLM-Powered Structured Mesh Code Generation from Point Clouds

**arXiv ID**: [2508.14879](http://arxiv.org/abs/2508.14879v1)
**PDF**: [ダウンロード](http://arxiv.org/pdf/2508.14879v1.pdf)
**著者**: Bingquan Dai, Li Ray Luo, Qihong Tang, Jie Wang, Xinyu Lian, Hao Xu, Minghan Qin, Xudong Xu, Bo Dai, Haoqian Wang, Zhaoyang Lyu, Jiangmiao Pang
**カテゴリ**: cs.GR, cs.CV
**公開日**: 2025-08-20T17:50:15Z

---

## 要約

## ショートサマリ
本研究は、点群から3Dオブジェクトを編集可能なプログラムに再構築する既存手法が、限定的なドメイン固有言語（DSLs）と小規模データセットに依存し、複雑な形状のモデリングに課題がある点を解決します。我々は、複雑な幾何学的形状を合成可能なBlender Python APIを開発し、これを用いて大規模なオブジェクト-コードペアデータセットを構築しました。そして、3D点群を実行可能なBlender Pythonスクリプトに変換するマルチモーダル大規模言語モデル（LLM）「MeshCoder」を訓練しました。実験の結果、MeshCoderは形状-コード再構築タスクにおいて既存手法を上回る性能を示し、コードベースの表現により直感的な幾何学的・トポロジカル編集を可能にしました。さらに、LLMの3D形状理解能力も向上させることが示されました。

## 本研究の概要
本研究の目的は、3Dオブジェクトを編集可能なプログラムに再構築することです。これはリバースエンジニアリングや形状編集といったアプリケーションに極めて重要ですが、既存手法は限定的なドメイン固有言語（DSLs）と小規模なデータセットに依存しており、複雑な幾何学的形状や構造を持つ現実世界のオブジェクトのモデリング能力が制限されるという課題がありました。

この課題に対し、本研究では「MeshCoder」という新しいフレームワークを導入し、複雑な3Dオブジェクトを点群から編集可能なBlender Pythonスクリプトに再構築することを達成しました。具体的には、複雑な形状を合成できる包括的なBlender Python APIを開発し、それを利用して、オブジェクトとコードのペアからなる大規模なデータセットを構築しました。このデータセットでは、各オブジェクトのコードが意味的なパーツに分解されています。その後、3D点群を実行可能なBlender Pythonスクリプトに変換するマルチモーダル大規模言語モデル（LLM）を訓練しました。これにより、形状-コード再構築タスクで優れた性能を達成し、コードの変更を通じて直感的な幾何学的・トポロジカル編集を可能にしました。さらに、コードベースの表現がLLMの3D形状理解タスクにおける推論能力を向上させることも示しています。

## 本研究の新規性や貢献
3D観測から形状プログラムを推論する研究は、リバースエンジニアリングなどに重要ですが、既存手法は「既存のDSLsが単純なプリミティブ（例：立方体、球体、円柱）のモデリングに限定され、複雑な部品を持つ現実世界のオブジェクトを表現できない」という課題がありました。また、形状-コード推論モデルの訓練には大規模なペアデータセットが必要ですが、そうしたデータセットは不足しています。先行研究のShapeAssemblyやPLADなどはプログラム抽象化を進めましたが、「複雑な部品のジオメトリをモデル化したり、アーティスト品質のクアッドメッシュを生成したりするのにしばしば苦労する」という限界がありました。CADプログラム生成手法も個々の部品に限定され、全体像のモデリングには不十分でした。

本研究「MeshCoder」はこれらの課題に対処するため、点群からBlender Pythonスクリプトを生成する新しいフレームワークとして位置づけられます。主要な貢献は以下の3点です。第一に、「包括的なBlender Python APIセットを開発」し、従来のDSLsの限界を超えて複雑な幾何学的形状のモデリングを可能にしました。第二に、「大規模なオブジェクト-コードペアデータセットを構築するパイプラインを提案」し、データセット不足の問題を解決しました。第三に、「MeshCoder」というマルチモーダルLLMを訓練し、点群から構造化され編集可能なBlender Pythonスクリプトを生成することで、高精度な再構築、直感的な編集、およびLLMの3D形状理解能力の向上を実現しました。

## 手法
本研究のMeshCoderは、点群からオブジェクトのBlender Pythonスクリプトを予測し、これを実行することで分離されたパーツを持つオブジェクトを再構築します。この目的のため、以下の主要なステップが踏まれました。

まず、部分形状と対応するコードのペアデータセットを生成しました。これは、Blenderで形状を生成する「確率的プログラム」を実装することで行われました。プリミティブ（立方体、円柱など）、翻訳（2D断面形状の掃引）、ブリッジループ（2D形状の接続）、ブーリアン演算（結合、交差、差分）、配列（繰り返しパターン）といった様々な形状タイプに対応するBlender Python APIを設計・開発しました。例えば、`create_primitive()`や`create_curve()`といった関数がこれにあたります。

次に、この部分データセットを用いて「部分-コード推論モデル」を訓練しました。このモデルは、点群を入力として、対応するコードを予測します。モデルはシェイプトークナイザーとファインチューンされたLLMで構成されます。シェイプトークナイザー（図4）は、入力点群をトリプレーン特徴に投影し、パッチ化してTransformerブロックを通し、クロスアテンションを用いて情報を集約し、固定長トークン`z`を生成します。LLMにはLlama-3.2-1Bをベースとし、LoRAを用いてファインチューンされました。

最後に、訓練済みの部分-コード推論モデルを活用して「オブジェクト-コードデータセット」を構築しました。Infinigen-Indoorデータセットから得られたオブジェクトを個々のパーツに分解し、各パーツに対して部分-コード推論モデルでコードを予測します。その後、各パーツのコードを連結し、オブジェクト全体のコードを生成します。この際、パーツは空間的な順序（下から上、左から右、前から後ろ）に基づいてソートされます（図5）。このデータセットを用いて、「オブジェクト-コード推論モデル」を訓練しました。このモデルの重みは、訓練済み部分-コード推論モデルの重みで初期化されます。

## 評価方法と結果
本研究では、MeshCoderの性能を評価するため、複数の側面で実験を実施しました。

**評価データセット:**
部分-コード推論モデルのために、プリミティブ、翻訳、ブリッジループ、ブーリアン、配列など約1000万ペアの合成部分データセットを構築しました。オブジェクト-コード推論モデルには、41カテゴリ、約100万オブジェクト-コードペアを含むInfinigen Indoorデータセットを構築し、訓練（70%）、検証（15%）、テスト（15%）に分割しました。

**評価指標とベースライン:**
再構築性能は、IoU（32^3ボクセルグリッド間）とL2 Chamfer Distance (CD)（予測とグラウンドトゥルースの点群から100,000点をサンプリング）を用いて評価しました。ベースラインとして、Shape2ProgとPLADと比較しました。

**結果の概要と考察:**
1.  **再構築性能:**
    「我々の手法は、IoUおよびCDの両指標において、ベースライン手法を一貫して上回る」ことが示されました（Table 1）。例えば、全カテゴリ平均でMeshCoderはCD 0.06 (×10^-2)、IoU 86.75 (%) を達成し、Shape2Prog (CD 6.00, IoU 45.03) やPLAD (CD 1.87, IoU 67.62) を大幅に凌駕しました。この結果は、MeshCoderが「複雑な構造を持つオブジェクトを正確に再構築できる」ことを示しています（Figure 6）。

2.  **形状編集:**
    MeshCoderは3D形状を高レベルの人間可読なコード表現に変換することで、編集性を大幅に向上させます。コード内の関数呼び出しや特定のパラメータを調整することで、幾何学的編集（例：テーブルトップの形状変更、バスタブの深さ調整）やトポロジカル編集（例：メッシュ解像度の調整）が「直感的に」実行可能であることを示しました（Figure 7, Figure 8）。これにより、反復的な設計やカスタマイズが効率化されます。

3.  **形状理解:**
    予測されたオブジェクトコードには「豊富な意味情報」が含まれており、これが3D形状理解においてLLM（GPT-4など）の推論能力を向上させることが示されました。MeshCoderによって推論されたコードをGPT-4に入力することで、GPT-4がオブジェクトの構造や幾何学に関する質問（例：椅子の車輪の数）に回答できることを実証しました（Figure 9）。これは、コードベースの表現が3Dオブジェクトの理解を助ける強力な手段となることを示唆しています。

部分-コード推論モデルも、低いCD値と高いIoUスコアを示し（Table 4）、個々の部品の正確なコード表現生成に非常に効果的であることが確認されました。

これらの実験結果は、MeshCoderが「プログラマティックな3D形状再構築と理解のための強力かつ柔軟なソリューション」として確立されることを裏付けています。

## 制限事項と課題
本研究におけるMeshCoderは多くの進歩を遂げましたが、いくつかの制限事項と今後の研究課題が論文中で述べられています。

第一に、現在の方法では「主に人間が作成したオブジェクトを対象としている」という限界があります。これは、開発されたBlender Python APIやデータセットの構築が、主に工業製品や家具といった構造化されたオブジェクトに焦点を当てているためと考えられます。

第二に、この限界に関連して、「動物や人間などの有機的な形状へのコードベースの表現の適用性は、まだ未開発」であると明記されています。有機的な形状は、人間が作成したオブジェクトとは異なる複雑な曲面や不規則なトポロジーを持つため、現在の手続き型生成APIでは表現が難しい可能性があります。

第三に、MeshCoderが推論するコードには「オブジェクトの幾何学的情報のみを含み、色情報を含まない」という課題があります。このため、付録A.6で示されているように、GPT-4にコードを与えても「色に関する質問には答えられない」という制約があります。

今後の研究課題としては、「有機的な形状への適用拡大」が明確に挙げられています。これにより、MeshCoderの汎用性が高まり、より広範な3Dモデリングアプリケーションへの応用が期待されます。また、コードに色情報やマテリアル情報を組み込むことで、より豊かな3D形状理解と表現が可能になるでしょう。

---

*このファイルは自動生成されました。生成日時: 2025年08月21日 10:56:13*
