# From Scores to Skills: A Cognitive Diagnosis Framework for Evaluating   Financial Large Language Models

**arXiv ID**: [2508.13491](http://arxiv.org/abs/2508.13491v1)
**PDF**: [ダウンロード](http://arxiv.org/pdf/2508.13491v1.pdf)
**著者**: Ziyan Kuang, Feiyu Zhu, Maowei Jiang, Yanzhao Lai, Zelin Wang, Zhitong Wang, Meikang Qiu, Jiajia Huang, Min Peng, Qianqian Xie, Sophia Ananiadou
**カテゴリ**: cs.CE
**公開日**: 2025-08-19T03:52:15Z

---

## 要約

## ショートサマリ
本研究は、既存の金融大規模言語モデル（LLM）評価ベンチマークが単一スコアに依存し、モデルの知識や限界を不明瞭にするという問題、およびカバーする金融概念が狭いという課題を解決します。このため、我々は金融LLMを知識・スキルレベルで評価する初の認知診断フレームワーク「FinCDM」を提案しました。また、公認会計士（CPA）試験から派生した、実世界の会計および金融スキルを包括的にカバーする初の認知診断データセット「CPA-QKA」を構築しました。30のLLMを用いた広範な実験により、FinCDMが隠れた知識ギャップを明らかにし、従来のベンチマークで見過ごされがちな税務や規制推論などの未テスト領域を特定し、モデル間の行動クラスターを発見できることを示しました。これにより、より信頼性が高く、ターゲットを絞ったモデル開発が支援されます。

## 本研究の概要
本研究は、大規模言語モデル（LLM）が金融分野で有望視される一方で、既存のベンチマークの不十分さにより、この高リスク領域での適合性が未検証であるという背景のもとに実施されました。従来のベンチマークは「スコアレベル評価」に限定され、モデルの真の知識や具体的な限界を曖昧にする単一の集約スコアに依存しています。また、これらのデータセットは金融概念の狭いサブセットしかカバーしておらず、実世界の応用で不可欠なその他の側面を見過ごしていました。

これらの課題に対処するため、本研究は金融LLM向けの初の認知診断評価フレームワーク「FinCDM」を導入しました。FinCDMは、モデルの応答パターンに基づき、どのような金融スキルと知識を持っているか、または不足しているかを、単一の集約された数値ではなく、知識・スキルレベルで特定することを可能にします。さらに、本研究は、公認会計士（CPA）試験から派生し、実世界の会計および金融スキルを包括的にカバーする、初の認知的に情報に基づいた金融評価データセット「CPA-QKA」を構築しました。これにより、30の異なるLLMに対する広範な実験を通じて、FinCDMがモデルの隠れた知識ギャップを明らかにし、従来のベンチマークで見過ごされがちな未テスト領域（例：税務や規制推論）を特定し、モデル間の行動クラスターを発見できることを示しました。

## 本研究の新規性や貢献
金融LLMの分野では、LLMの金融タスクへの応用が進む一方で、その適合性は未検証であり、既存の評価ベンチマークには大きな課題が存在しました。まず、「スコアの平坦化」の問題があり、既存のベンチマークではデータセットが単一の数値に集約されるため、モデルが実際にどのような知識を習得したかが不明瞭でした。例えば、FinQAにおいてGPT-4oとFinMAが類似の全体精度を示す場合でも、それぞれ数値計算と金融概念質問に異なる強みを持つといった詳細が隠蔽されます。次に、「カバレッジの不均衡」があり、多くの先行データセットが特定の金融知識やスキルに偏っており、実世界の要件全体にわたるモデルの性能評価を困難にしていました。FinEvalの会計質問は、総収入や純利益といった狭い概念に集中し、公平な評価を妨げていました。

本研究はこれらの限界を克服するために、「従来の集約指標を超えてモデルの熟練度を知識・スキルレベルで評価する、金融LLM評価のための初の認知診断フレームワークであるFinCDMを提案しました。」このフレームワークは、モデルが持つ、あるいは欠如する金融スキルと知識を診断します。また、「CPA試験から派生した、高品質な人間による注釈付きの新しいデータセットと構造化された金融知識フレームワークを構築しました。これはFinCDMの信頼できる評価をサポートし、既存ベンチマークの狭いカバレッジを露呈させます。」このデータセットは、実世界の会計・金融スキルを網羅的にカバーしています。さらに、「FinCDMを30の代表的なLLMに適用し、それらの知識ギャップ、強み、行動パターンを明らかにしました。これはモデル開発と展開に実用的な洞察を提供します。」これらの貢献により、本研究は金融LLM評価の新たなパラダイムを提示し、より信頼性が高く、ターゲットを絞ったモデル開発を支援します。

## 手法
本研究では、金融大規模言語モデル（LLM）の知識・スキルレベル評価のために、認知診断モデル（CDM）の概念を適用しています。その中心となる技術は、非負行列共因子分解（Non-negative Matrix Co-factorization: MCF）です。

研究のアプローチとして、LLMを人間と同様の受験者として扱い、スキルタグ付けされたタスクへの応答パターンから、個々の金融スキルや知識の習熟度を推定します。これにより、単一の集約スコアでは得られない詳細な診断情報を得ることが可能になります。

特徴的な技術や手法の詳細は以下の通りです。
1.  **データセットCuration (CPA-KQAの構築)**:
    「既存のベンチマークは通常、集約されたスコア評価に依存し、金融概念のごく一部しかカバーしていません。これらの限界に対処するため、私たちはCPA-KQAという新しいデータセットを提案します。このデータセットは、ドメイン専門家によって作成された金融問題を含み、CDMを用いた金融LLMの知識・スキルレベル評価をサポートし、包括的な知識カバレッジを提供します。」 CPA試験のコンテンツとスキル仕様アウトラインから70の主要金融概念を特定し、専門家が各概念につき3問ずつ質問を作成しました。データアノテーションは「質問作成」と「金融概念タグ付け」の2段階で行われ、複数の専門家による相互レビューと品質検証（Krippendorffのアルファ0.937、σスコア0.9904など）により高い信頼性が確保されました。
2.  **評価フレームワーク (FinCDMの数理モデル)**:
    FinCDMは、モデルの応答データを行列X、質問と概念の関連付けを行列Qとして取得し、これらを非負行列共因子分解を用いて分解します。「私たちのフレームワークは、以下の生成プロセスを仮定しています：1. 質問に対する潜在スキル表現、2. モデルに対する潜在スキル熟練度、3. 潜在スキルから金融概念へのマッピング、4. 観察された応答Xの生成、5. 質問-概念関連Qの生成。」 具体的には、「X ≈ EU, Q ≈ EV, E, U, V ≥ 0」という形式で因子分解を行い、以下の目的関数を最適化します。
    `min E,U,V≥0∥W◦(X−EU)∥²F+β∥Q−EV∥²F+λE∥E∥²F+λU∥U∥²F+λV∥V∥²F`
    ここで、Eは質問と潜在スキルの関係、Uはモデルの潜在スキル熟練度、Vは潜在スキルと金融概念の関係を表します。これにより、最終的に各LLMの金融概念に対する熟練度Fを「F=UᵀV」として推定し、詳細な診断結果を提供します。

## 評価方法と結果
本研究では、FinCDMを用いて30の多様なLLM（プロプライエタリモデル、オープンソース汎用モデル、ドメイン特化モデル）の金融知識スキルレベルを評価しました。評価には、著者らが構築したCPA-KQAデータセットが使用されました。各LLMは、温度1.2、最大生成長64トークンという一貫した設定で質問に回答し、各質問に対して10の応答を生成し、その平均スコアが最終性能として計算されました。評価指標として、概念熟練度（0.9以上の熟練度を達成した概念数）と全体的な正答率（Acc）が用いられました。FinCDMの診断信頼性を検証するため、特定のモデル（Claude 3.5）の知識ギャップを専門家レビューと比較するケーススタディも実施され、異なるCDMアーキテクチャ（MCF、Neural CDM、GNN-based CDM）の性能比較も行われました。

**得られた結果の概要と解釈:**
「Table 2とFigure 3は、CPA-KQAデータセットにおける様々なLLMの知識-スキルレベルの性能を要約しています。」
1.  **FinCDMの診断的価値**: FinCDMは、従来の集約指標では見過ごされていたモデルの隠れた知識ギャップを明らかにしました。「Claude 3.5 SonnetはCPA-KQAで高い平均精度を達成していますが、FinCDMは、この性能が概念の狭いサブセットに集中していることを明らかにしています。」これは、FinCDMがモデル能力のより詳細な、解釈可能な分析を提供する証拠です。
2.  **モデル間の知識特化の多様性**: 全体スコアが類似するモデル間でも、習得している金融概念には顕著な違いがありました。「例えば、Gemini-2.5-Pro-ExpとDoubao-1.5-Pro-256kはどちらも0.84の高い全体合格率を達成していますが、概念レベルの綿密な調査では、Geminiが偶発債務やリースなどの一般的な会計カテゴリに優れているのに対し、Doubaoは長期投資決定や運転資本管理など、財務コスト管理領域でより強力な性能を示しています。」これは、集約指標を超えた詳細な評価の重要性を示唆しています。
3.  **言語リソースの影響**: 中国語能力が不足するモデル（例：Falcon-7B）は、全体精度と概念レベルの熟練度で著しく低性能を示しました。「中国語コーパスでの堅牢な事前学習が不足しているFalcon-7Bは、合格率がわずか0.15であり、金融概念全体で最小限の能力しか示しません。」これは、効果的なドメイン適応には適切な言語基盤が不可欠であることを強調しています。
4.  **既存データセットの課題**: 既存のFinEval-KQAは、「構造的な不均衡」を示し、少数の金融概念に質問が集中していました（例：商法が13回）。これにより、モデルの熟練度が概念の頻度に不均衡に依存することが示されました。CPA-KQAはよりバランスの取れた概念表現を提供することで、この課題に対処しています。
5.  **MCFベースCDMの優位性**: アブレーションスタディでは、本研究で採用されたMCFベースのCDMが、他のNeural CDMやGNNベースのCDMよりも大幅に優れた性能を示しました。「これらの結果は、最強のベースラインであるRCDと比較して、精度で+0.177、AUCで+0.146の絶対的な利益、RMSEで-0.167の削減に相当します。」これは、FinCDMが採用する手法がタスクに非常に効果的であることを示唆します。
6.  **ケーススタディによる診断信頼性の確認**: Claude 3.5のF3とF5概念に関する診断的知識ギャップは、モデルの実際の誤答と一致し、さらに専門家レビューによっても裏付けられました。「4人の専門家が質問を一貫してF3およびF5の概念に割り当てました。」専門家間の一致度も0.80と高く、FinCDMの診断フレームワークの信頼性と有効性が実証されました。

これらの結果は、FinCDMが金融LLMの能力をより詳細かつ解釈可能な形で評価し、従来のベンチマークでは捉えきれなかったモデルの強みと弱みを特定できることを明確に示しています。

## 制限事項と課題
本研究は、金融大規模言語モデル（LLM）の評価に新たな視点をもたらしましたが、論文中では今後の研究課題として、いくつかの限界と未解決の問題が示唆されています。

「今後の方向性としては、多言語への拡張、マルチモーダル金融コンテンツの組み込み、診断フィードバックを命令チューニングやベンチマーク設計に活用することが挙げられます。」

1.  **多言語への拡張**: 現在のFinCDMフレームワークとCPA-KQAデータセットは、主に中国語の金融モデルに焦点を当てています。しかし、金融市場はグローバルであり、多言語環境でのLLMの評価は不可欠です。今後は、他の主要言語、特に英語における金融知識・スキルレベル評価に対応できるよう、フレームワークとデータセットを拡張する必要があります。
2.  **マルチモーダル金融コンテンツの組み込み**: 金融分野の意思決定は、テキスト情報だけでなく、グラフ、表、画像、音声会議などのマルチモーダルなデータに大きく依存しています。現在の評価フレームワークは主にテキストベースですが、これらの多様なデータ形式を理解し、推論するLLMの能力を評価する仕組みは未解決の課題であり、今後の重要な研究領域となります。
3.  **診断フィードバックの活用**: FinCDMはモデルの知識ギャップや強みを詳細に診断しますが、この診断結果を直接LLMの「instruction tuning（命令チューニング）」や「benchmark design（ベンチマーク設計）」にどのように活用するか、具体的なメカニズムや効果的な実践方法はさらなる研究が必要です。診断情報がモデルの改善やより効果的な評価ツール開発にどのように繋がるか、その具体的なロードマップを確立することが今後の課題となります。

---

*このファイルは自動生成されました。生成日時: 2025年08月21日 10:54:58*
